"use strict";!function(){var a=document.querySelector(".overlay"),b=document.querySelector(".product-list"),c=b.querySelectorAll(".choice-buy"),d=document.querySelector(".popup-order"),e=d.querySelector(".continue-shopping"),f=d.querySelector(".btn-close-order"),g=document.querySelector(".basket-link"),h=function(b){b.preventDefault(),a.style.display="",d.classList.remove("open-popup"),[].forEach.call(c,function(a){a.addEventListener("click",i)})},i=function(b){b.preventDefault();var j=g.querySelector("span");a.style.display="block",d.classList.add("open-popup"),g.classList.add("basket-full"),j.textContent=+j.textContent+1,[].forEach.call(c,function(a){a.removeEventListener("click",i)}),e.addEventListener("click",h),f.addEventListener("click",h)};if([].forEach.call(c,function(a){a.addEventListener("click",i)}),document.querySelector(".logo:not([href])")){var j=document.querySelector(".slider"),k=j.querySelector(".slider-control"),l=k.querySelectorAll(".btn-slider-control"),m=j.querySelector(".slider-list"),n=m.querySelectorAll(".slider-item"),o=j.querySelector(".slider-arrows"),p=j.querySelector(".slider-back"),q=j.querySelector(".slider-next"),r=document.querySelector(".info-contacts"),s=r.querySelector(".small-map"),t=document.querySelector(".big-map"),u=t.querySelector(".btn-big-map"),v=r.querySelector(".btn-contacts"),w=document.querySelector(".feedback"),x=w.querySelector(".feedback-close"),y=w.querySelector("#name"),z=w.querySelector("#email"),A=w.querySelector("#message"),B=w.querySelector(".feedback-form"),C=document.querySelector(".service"),D=C.querySelector(".service-switch"),E=C.querySelectorAll(".btn-switch"),F=C.querySelectorAll(".service-slider-item"),G=function(a,b,c){[].forEach.call(a,function(a,d){a.classList.remove(c),b[d].classList.remove("btn-"+c)})},H=function(a){var b=null;a.preventDefault(),a.target.parentElement.classList.contains("btn-slider-active")||a.target.parentElement.classList.contains("btn-service-active")||(a.target.classList.contains("btn-slider-control")?(G(n,l,"slider-active"),b=+a.target.firstElementChild.innerText.replace("\u0421\u043b\u0430\u0439\u0434 ",""),n[b-1].classList.add("slider-active"),a.target.classList.add("btn-slider-active")):a.target.classList.contains("btn-switch")?(G(F,E,"service-active"),b=+a.target.firstElementChild.innerText.replace("\u0421\u043b\u0430\u0439\u0434 ",""),F[b-1].classList.add("service-active"),a.target.classList.add("btn-service-active")):a.target.parentElement.classList.contains("slider-arrows")&&([].forEach.call(n,function(a,c){a.classList.contains("slider-active")&&(b=c,a.classList.remove("slider-active"),l[c].classList.remove("btn-slider-active"))}),a.target===p?(0===b&&(b=n.length),n[b-1].classList.add("slider-active"),l[b-1].classList.add("btn-slider-active")):a.target===q&&(b===n.length-1&&(b=-1),n[b+1].classList.add("slider-active"),l[b+1].classList.add("btn-slider-active"))))},I=function(a){if(y.value&&z.value&&A.value)localStorage.setItem("login",y.value);else{a.preventDefault();var b=w.offsetWidth;w.classList.remove("modal-error"),b=w.offsetWidth,w.classList.add("modal-error")}},J=function(b){b.preventDefault(),a.style.display="",t.classList.remove("open-popup"),u.removeEventListener("click",J),u.removeEventListener("keydown",N),window.removeEventListener("keydown",O)},K=function(b){b.preventDefault(),t.classList.contains("open-popup")||(a.style.display="block",t.classList.add("open-popup"),u.addEventListener("click",J),u.addEventListener("keydown",N),window.addEventListener("keydown",O))},L=function(b){b.preventDefault(),a.style.display="",w.classList.remove("open-popup"),w.classList.remove("modal-error"),B.removeEventListener("submit",I),x.removeEventListener("click",L),x.removeEventListener("keydown",N),window.removeEventListener("keydown",O)},M=function(b){b.preventDefault(),w.classList.contains("open-popup")||(a.style.display="block",w.classList.add("open-popup"),B.addEventListener("submit",I),x.addEventListener("click",L),x.addEventListener("keydown",N),window.addEventListener("keydown",O))},N=function(a){if(13===a.keyCode)switch(a.target){case s:K(a);break;case u:J(a);break;case v:M(a);break;case x:L(a)}},O=function(a){27===a.keyCode&&(a.preventDefault(),J(a),L(a))};o.addEventListener("click",H),k.addEventListener("click",H),k.addEventListener("keydown",function(a){13===a.keyCode&&H(a)}),D.addEventListener("click",H),D.addEventListener("keydown",function(a){13===a.keyCode&&H(a)}),s.addEventListener("click",K),s.addEventListener("keydown",N),v.addEventListener("click",M),v.addEventListener("keydown",N)}}();
